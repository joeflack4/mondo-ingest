PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

# For SNOMED, we are only interested in the Disease or Disorder branch
SELECT DISTINCT ?term
WHERE {
  { 
    { 
     ?s1 ?p1 ?term . 
     ?term rdfs:subClassOf* <http://purl.obolibrary.org/obo/NCIT_C2991> .
    }
    UNION
    { 
      ?term ?p2 ?o2 . 
      ?term rdfs:subClassOf* <http://purl.obolibrary.org/obo/NCIT_C2991> .
    }
  }
  FILTER(isIRI(?term))
}
